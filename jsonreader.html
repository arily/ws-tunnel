<html>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/json2html/1.2.0/json2html.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.json2html/1.2.0/jquery.json2html.min.js"></script>
<script>
    window.onload = function(){
        $.getJSON('http://localhost:5001/monitor',(e)=>{
            var result = Object.keys(e).map(function(key) {
                return e[key];
            });
            console.log(result);
            var t = {'<>':'tr','html':[
                {'<>':'td', 'html':'${serverName}-${srcID} '},
                {'<>':'td','html':'src:${srcConnection} dst:${dstConnection} '},
                {'<>':'td','html':'${LocalAddress}<->${dstProtocol}://${dstAddr}:${dstPort}'}
            ]};
            document.write('<table style="border:1">',json2html.transform(result,t),'</table>');
        });
    }
    </script>
<body>
</body>
</html>